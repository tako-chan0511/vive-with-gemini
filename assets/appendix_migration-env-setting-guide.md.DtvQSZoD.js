import{_ as i,c as a,o as t,ae as n}from"./chunks/framework.CDjunVez.js";const E=JSON.parse('{"title":"Vue3 + TypeScript â†’ Vue3 + FastAPI ç§»è¡Œæ™‚ã®ç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šã®é•ã„ã¨å¯¾å¿œæ‰‹é †","description":"","frontmatter":{},"headers":[],"relativePath":"appendix/migration-env-setting-guide.md","filePath":"appendix/migration-env-setting-guide.md"}'),e={name:"appendix/migration-env-setting-guide.md"};function l(h,s,p,d,k,o){return t(),a("div",null,[...s[0]||(s[0]=[n(`<h1 id="vue3-typescript-â†’-vue3-fastapi-ç§»è¡Œæ™‚ã®ç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šã®é•ã„ã¨å¯¾å¿œæ‰‹é †" tabindex="-1">Vue3 + TypeScript â†’ Vue3 + FastAPI ç§»è¡Œæ™‚ã®ç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šã®é•ã„ã¨å¯¾å¿œæ‰‹é † <a class="header-anchor" href="#vue3-typescript-â†’-vue3-fastapi-ç§»è¡Œæ™‚ã®ç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šã®é•ã„ã¨å¯¾å¿œæ‰‹é †" aria-label="Permalink to &quot;Vue3 + TypeScript â†’ Vue3 + FastAPI ç§»è¡Œæ™‚ã®ç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«è¨­å®šã®é•ã„ã¨å¯¾å¿œæ‰‹é †&quot;">â€‹</a></h1><p>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã€Vue3 + TypeScript ç’°å¢ƒã‹ã‚‰ã€Vue3 + FastAPI ç’°å¢ƒã¸ç§»è¡Œã™ã‚‹éš›ã®ç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢ã™ã‚‹è¨­å®šå¤‰æ›´ã®ãƒã‚¤ãƒ³ãƒˆã‚’è§£èª¬ã—ã¾ã™ã€‚ å®Ÿéš›ã«å‹•ä½œã—ãŸè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«ã‚‚æ²è¼‰ã—ã¦ã„ã¾ã™ã€‚</p><hr><h2 id="ğŸ”„-å¤‰æ›´ãƒ›ã‚šã‚¤ãƒ³ãƒˆæ¯”è¼ƒè¡¨" tabindex="-1">ğŸ”„ å¤‰æ›´ãƒã‚¤ãƒ³ãƒˆæ¯”è¼ƒè¡¨ <a class="header-anchor" href="#ğŸ”„-å¤‰æ›´ãƒ›ã‚šã‚¤ãƒ³ãƒˆæ¯”è¼ƒè¡¨" aria-label="Permalink to &quot;ğŸ”„ å¤‰æ›´ãƒã‚¤ãƒ³ãƒˆæ¯”è¼ƒè¡¨&quot;">â€‹</a></h2><table tabindex="0"><thead><tr><th>é …ç›®</th><th>TypeScript æ™‚ä»£</th><th>FastAPIï¼ˆPythonï¼‰æ™‚ä»£</th><th>è£œè¶³</th></tr></thead><tbody><tr><td><strong>API å®Ÿè£…è¨€èª</strong></td><td><code>api/*.ts</code></td><td><code>api/*.py</code>ï¼ˆä¾‹: main.pyï¼‰</td><td>ä½¿ç”¨ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ãŒç•°ãªã‚‹</td></tr><tr><td><strong>ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«</strong></td><td><code>.env.local</code></td><td><code>.env.local</code> or <code>.env</code></td><td>Pythonã§ã¯ <code>load_dotenv()</code> å¿…é ˆ</td></tr><tr><td><strong>Vercel è¨­å®š</strong></td><td><code>@vercel/node</code></td><td><code>@vercel/python</code></td><td><code>vercel.json</code> ã® <code>builds</code> æ§‹æˆãŒç•°ãªã‚‹</td></tr><tr><td><strong>vite.config.ts</strong></td><td>port: <code>3000</code></td><td>port: <code>8686</code></td><td>proxyå…ˆã‚’å¤‰æ›´</td></tr><tr><td><strong>.gitignore</strong></td><td><code>dist/</code> ã‚’ç„¡è¦–</td><td><code>dist/</code> ã‚’ç„¡è¦–ã®ã¾ã¾ã§OK</td><td>Gitç®¡ç†ä¸è¦</td></tr><tr><td><strong>npm run build</strong></td><td>å¿…è¦ãªå ´åˆã‚ã‚Š</td><td>VercelãŒè‡ªå‹•å®Ÿè¡Œ</td><td>ãƒ­ãƒ¼ã‚«ãƒ«å‹•ä½œç¢ºèªã«ã¯å®Ÿè¡Œæ¨å¥¨</td></tr></tbody></table><hr><h2 id="ğŸ“-å®Ÿéš›ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ³ãƒ•ã‚šãƒ«" tabindex="-1">ğŸ“ å®Ÿéš›ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ³ãƒ—ãƒ« <a class="header-anchor" href="#ğŸ“-å®Ÿéš›ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ³ãƒ•ã‚šãƒ«" aria-label="Permalink to &quot;ğŸ“ å®Ÿéš›ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚µãƒ³ãƒ—ãƒ«&quot;">â€‹</a></h2><h3 id="env-local-å…±é€š" tabindex="-1">.env.localï¼ˆå…±é€šï¼‰ <a class="header-anchor" href="#env-local-å…±é€š" aria-label="Permalink to &quot;.env.localï¼ˆå…±é€šï¼‰&quot;">â€‹</a></h3><div class="language-env vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">env</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>RAPID_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx</span></span></code></pre></div><hr><h3 id="vite-config-ts" tabindex="-1">vite.config.ts <a class="header-anchor" href="#vite-config-ts" aria-label="Permalink to &quot;vite.config.ts&quot;">â€‹</a></h3><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vue </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@vitejs/plugin-vue&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  plugins: [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  server: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    proxy: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;/api&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        target: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;http://localhost:8686&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        changeOrigin: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        rewrite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">path</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">replace</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">^</span><span style="--shiki-light:#22863A;--shiki-light-font-weight:bold;--shiki-dark:#85E89D;--shiki-dark-font-weight:bold;">\\/</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF;">api</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><hr><h3 id="vercel-json" tabindex="-1">vercel.json <a class="header-anchor" href="#vercel-json" aria-label="Permalink to &quot;vercel.json&quot;">â€‹</a></h3><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;version&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;builds&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;src&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;api/main.py&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;use&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;@vercel/python&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;routes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;src&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/get-categories&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;dest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;api/main.py&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;src&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/api/recipe-ranking&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;dest&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;api/main.py&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="gitignore-å¤‰æ›´ãªã—ã¦ã‚™ok" tabindex="-1">.gitignoreï¼ˆå¤‰æ›´ãªã—ã§OKï¼‰ <a class="header-anchor" href="#gitignore-å¤‰æ›´ãªã—ã¦ã‚™ok" aria-label="Permalink to &quot;.gitignoreï¼ˆå¤‰æ›´ãªã—ã§OKï¼‰&quot;">â€‹</a></h3><div class="language-gitignore vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">gitignore</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>node_modules/</span></span>
<span class="line"><span>dist/</span></span>
<span class="line"><span>.env*</span></span>
<span class="line"><span>.vscode/</span></span></code></pre></div><p>â€» <code>dist/</code> ã‚’ Git ã«å«ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚Vercel ãŒè‡ªå‹•ã§ç”Ÿæˆã—ã¾ã™ã€‚</p><hr><h2 id="ğŸ’¡tips" tabindex="-1">ğŸ’¡Tips <a class="header-anchor" href="#ğŸ’¡tips" aria-label="Permalink to &quot;ğŸ’¡Tips&quot;">â€‹</a></h2><ul><li><code>.env.local</code> ã®å†…å®¹ã¯ Git ã«å«ã‚ãªã„ã‚ˆã† <code>.gitignore</code> ã«è¨˜è¼‰ã—ã¦ãŠãã€‚</li><li>Python å´ã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«èª­ã¿è¾¼ã¿ã¾ã™ï¼š</li></ul><div class="language-py vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">py</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> dotenv </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> load_dotenv</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">load_dotenv(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;.env.local&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><ul><li><code>vite.config.ts</code> ã® <code>rewrite()</code> ã‚’å¿˜ã‚Œã‚‹ã¨ <code>/api/api/ï½</code> ãªã©ã®ã‚¨ãƒ©ãƒ¼ã«ç¹‹ãŒã‚Šã¾ã™ã€‚</li><li>API ãŒ 404 ã¨ãªã‚‹å ´åˆã¯ FastAPI å´ã® prefix è¨­å®šã‚„ <code>include_router()</code> ã®è¨˜è¿°é †ã‚’ç¢ºèªã€‚</li><li><code>vercel dev</code> ã§ã®ãƒ†ã‚¹ãƒˆæ™‚ã¯ <code>.env.local</code> ãŒé©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªã€‚</li></ul><hr><h2 id="âœ…-æ‰‹é †ã¾ã¨ã‚" tabindex="-1">âœ… æ‰‹é †ã¾ã¨ã‚ <a class="header-anchor" href="#âœ…-æ‰‹é †ã¾ã¨ã‚" aria-label="Permalink to &quot;âœ… æ‰‹é †ã¾ã¨ã‚&quot;">â€‹</a></h2><ol><li><code>vite.config.ts</code> ã® proxy target ã‚’ <code>8686</code> ã«å¤‰æ›´</li><li><code>vercel.json</code> ã‚’ Python ç”¨ã«ç½®æ›</li><li><code>.env.local</code> ã‚’ <code>.env</code> ã¾ãŸã¯ <code>load_dotenv()</code> å¯¾å¿œã«åˆã‚ã›ã‚‹</li><li><code>.gitignore</code> ã« <code>dist/</code> ã‚’æ®‹ã™ï¼ˆGitã«å«ã‚ãªã„ï¼‰</li><li>Vercel ã« Pushï¼ˆmain ã‹ä»»æ„ãƒ–ãƒ©ãƒ³ãƒï¼‰</li><li>ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†å¾Œã€ãƒ­ã‚°ã§ API å‹•ä½œã‚’ç¢ºèª</li></ol><hr><p>ä»¥ä¸ŠãŒç’°å¢ƒãƒ•ã‚¡ã‚¤ãƒ«ã®å·®åˆ†ã¨å…·ä½“çš„ãªä¿®æ­£æ‰‹é †ã§ã™ã€‚</p>`,29)])])}const c=i(e,[["render",l]]);export{E as __pageData,c as default};

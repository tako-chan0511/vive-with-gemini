import{_ as s,c as i,o as t,ae as e}from"./chunks/framework.CDjunVez.js";const E=JSON.parse('{"title":"統計データ分析API","description":"e-StatデータとGemini APIを使って複数の観点から統計分析を行うAPI","frontmatter":{"title":"統計データ分析API","description":"e-StatデータとGemini APIを使って複数の観点から統計分析を行うAPI"},"headers":[],"relativePath":"api-reference/analyze-stats.md","filePath":"api-reference/analyze-stats.md"}'),n={name:"api-reference/analyze-stats.md"};function l(h,a,r,d,p,o){return t(),i("div",null,[...a[0]||(a[0]=[e(`<h1 id="analyze-stats-api" tabindex="-1">analyze-stats API <a class="header-anchor" href="#analyze-stats-api" aria-label="Permalink to &quot;analyze-stats API&quot;">​</a></h1><p>統計データIDと複数の分析観点を指定し、e-Stat APIから取得したデータをGemini APIを使って分析します。</p><h2 id="エンドポイント" tabindex="-1">エンドポイント <a class="header-anchor" href="#エンドポイント" aria-label="Permalink to &quot;エンドポイント&quot;">​</a></h2><ul><li><strong>Method:</strong> <code>POST</code></li><li><strong>Path:</strong> <code>/api/analyze-stats</code></li></ul><h2 id="リクエスト" tabindex="-1">リクエスト <a class="header-anchor" href="#リクエスト" aria-label="Permalink to &quot;リクエスト&quot;">​</a></h2><h3 id="パラメータ-json形式" tabindex="-1">パラメータ（JSON形式） <a class="header-anchor" href="#パラメータ-json形式" aria-label="Permalink to &quot;パラメータ（JSON形式）&quot;">​</a></h3><table tabindex="0"><thead><tr><th>パラメータ名</th><th>型</th><th>必須</th><th>説明</th></tr></thead><tbody><tr><td><code>statsDataId</code></td><td>string</td><td>✔</td><td>e-Statで使用する統計データのID</td></tr><tr><td><code>analyses</code></td><td>array</td><td>✔</td><td>分析対象の配列（観点名とフィルター情報を含む）</td></tr><tr><td><code>question</code></td><td>string</td><td>✔</td><td>Geminiに投げる質問文（自然言語）</td></tr><tr><td><code>geminiApiKey</code></td><td>string</td><td>✔</td><td>Gemini APIのキー（ユーザー側で設定）</td></tr></tbody></table><p>例：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;statsDataId&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0003422312&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;analyses&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;filters&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;area&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;01100&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;filterNames&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">&quot;area&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;札幌市&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;question&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;地域ごとの傾向を教えてください。&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;geminiApiKey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;your-gemini-api-key&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="レスポンス" tabindex="-1">レスポンス <a class="header-anchor" href="#レスポンス" aria-label="Permalink to &quot;レスポンス&quot;">​</a></h2><ul><li>成功時（200 OK）：Gemini APIから得られた分析結果を返します。</li><li>失敗時： <ul><li><code>400 Bad Request</code>: パラメータ不足や形式不備</li><li><code>405 Method Not Allowed</code>: POST以外のリクエスト</li><li><code>500 Internal Server Error</code>: 外部API呼び出し失敗やGeminiの解析失敗など</li></ul></li></ul><h2 id="使用技術・外部api" tabindex="-1">使用技術・外部API <a class="header-anchor" href="#使用技術・外部api" aria-label="Permalink to &quot;使用技術・外部API&quot;">​</a></h2><ul><li><a href="https://www.e-stat.go.jp/api/" target="_blank" rel="noreferrer">e-Stat API</a></li><li><a href="https://ai.google.dev/" target="_blank" rel="noreferrer">Gemini Pro API (Google AI)</a></li></ul>`,13)])])}const c=s(n,[["render",l]]);export{E as __pageData,c as default};

import{_ as i,c as a,o as n,ae as t}from"./chunks/framework.Ai_99reE.js";const l="/vive-with-gemini/images/architecture.svg",o=JSON.parse('{"title":"開発ストーリー：AIマーケットアナリスト","description":"","frontmatter":{},"headers":[],"relativePath":"development-story.md","filePath":"development-story.md"}'),h={name:"development-story.md"};function p(k,s,e,r,E,d){return n(),a("div",null,[...s[0]||(s[0]=[t('<h1 id="開発ストーリー-aiマーケットアナリスト" tabindex="-1">開発ストーリー：AIマーケットアナリスト <a class="header-anchor" href="#開発ストーリー-aiマーケットアナリスト" aria-label="Permalink to &quot;開発ストーリー：AIマーケットアナリスト&quot;">​</a></h1><p>このページでは、私と相棒のGeminiが「ヴィーヴコーディング」で、どのように「AIマーケットアナリスト」を形にしていったか、その道のりを共有します。</p><p><img src="http://googleusercontent.com/file_content/0" alt="AIマーケットアナリストの完成画面"></p><h2 id="_1-原点-私たちの挑戦" tabindex="-1">1. 原点：私たちの挑戦 <a class="header-anchor" href="#_1-原点-私たちの挑戦" aria-label="Permalink to &quot;1. 原点：私たちの挑戦&quot;">​</a></h2><p>すべては、私が抱いたこのシンプルな問いから始まりました。</p><blockquote><p><strong>私 → Gemini:</strong> 「企業名を入れるだけで、最新ニュースを基にその企業の市場での立ち位置を分析してくれるアプリを作りたい。どんなアーキテクチャがいいだろうか？」</p></blockquote><hr><h2 id="_2-最初の設計会議-キャッシュ戦略という光明" tabindex="-1">2. 最初の設計会議：キャッシュ戦略という光明 <a class="header-anchor" href="#_2-最初の設計会議-キャッシュ戦略という光明" aria-label="Permalink to &quot;2. 最初の設計会議：キャッシュ戦略という光明&quot;">​</a></h2><p>この問いに対し、相棒はパフォーマンスとコスト効率を両立させる、鋭い初期提案をしてくれました。これが、私たちのプロジェクトの青写真が決まった瞬間です。</p><blockquote><p><strong>Gemini → 私:</strong> 「面白い挑戦ですね！毎回APIを叩くとコストと時間がかかるので、<strong>サーバー側でのキャッシュ戦略</strong>を組み込むのが鍵になります。Vercel上で完結できる、以下のような構成を提案します。」</p></blockquote><h3 id="技術スタック案" tabindex="-1">技術スタック案 <a class="header-anchor" href="#技術スタック案" aria-label="Permalink to &quot;技術スタック案&quot;">​</a></h3><ul><li><strong>フロントエンド:</strong> <code>Vue 3</code> + <code>Vite</code> + <code>TypeScript</code></li><li><strong>バックエンド (BFF):</strong> <code>Vercel Functions</code></li><li><strong>キャッシュ戦略:</strong> <code>Vercel KV (Redis)</code></li><li><strong>AI:</strong> <code>Gemini API</code></li><li><strong>外部API:</strong> <code>GNews API</code></li></ul><hr><h3 id="アーキテクチャ構成図" tabindex="-1">アーキテクチャ構成図 <a class="header-anchor" href="#アーキテクチャ構成図" aria-label="Permalink to &quot;アーキテクチャ構成図&quot;">​</a></h3><p>私たちが対話を通じて固めたアーキテクチャの全体像は、以下の通りです。</p><p><img src="'+l+`" alt="アーキテクチャ構成図"></p><h2 id="_3-壁とブレークスルー-対話による動的ragの実装" tabindex="-1">3. 壁とブレークスルー：対話による動的RAGの実装 <a class="header-anchor" href="#_3-壁とブレークスルー-対話による動的ragの実装" aria-label="Permalink to &quot;3. 壁とブレークスルー：対話による動的RAGの実装&quot;">​</a></h2><p>開発の核心部分は、「どうやってコストを抑えつつ、深い対話を実現するか」でした。私がこの課題を投げかけると、</p><blockquote><p><strong>私 → Gemini:</strong> 「同じ会社を何度も分析すると、APIコストもレスポンス時間も増大してしまう。何か良い解決策はない？」</p></blockquote><p>相棒は、私たちのアーキテクチャの核となる、見事な解決策を提示してくれました。</p><blockquote><p><strong>Gemini → 私:</strong> 「<strong>Vercel KVを使った1日キャッシュ</strong>が有効です。一度分析した企業の結果（収集したニュース本文とGeminiによる初期分析）を、企業名をキーにして24時間保存しましょう。」</p></blockquote><p>この「<strong>キャッシュを知識源にする</strong>」というアイデアが、技術ハイライトに記載した「動的なRAGアーキテクチャ」の基盤となりました。</p><ol><li><strong>初回アクセス時:</strong> GNews API → Gemini APIで分析 → 結果をユーザーに返し、同時にVercel KVにキャッシュ。</li><li><strong>2回目以降のアクセス時:</strong> Vercel KVから即座に結果を返す。</li><li><strong>深掘りの対話時:</strong> キャッシュに保存されている「ニュース記事本文」そのものを知識源（コンテキスト）として、GeminiとのRAGを起動する。</li></ol><p>このように、対話を通じて課題を解決していくプロセスこそ、私たちの「ヴィーヴコーディング」の真骨頂です。</p><hr><h2 id="_4-インクリメンタルな開発計画" tabindex="-1">4. インクリメンタルな開発計画 <a class="header-anchor" href="#_4-インクリメンタルな開発計画" aria-label="Permalink to &quot;4. インクリメンタルな開発計画&quot;">​</a></h2><p>では、実際の開発はどのように進んだのか？ 私たちが実践した、最初の数時間の具体的なステップと対話の様子をご紹介します。</p><h3 id="フェーズ1-プロジェクトの骨格構築" tabindex="-1">フェーズ1：プロジェクトの骨格構築 <a class="header-anchor" href="#フェーズ1-プロジェクトの骨格構築" aria-label="Permalink to &quot;フェーズ1：プロジェクトの骨格構築&quot;">​</a></h3><p><strong>【ゴール】</strong> 主要なUIコンポーネントの「ガワ」だけを配置し、アプリケーションの全体像をまず見える化する。</p><blockquote><p><strong>【ROIの視点】 なぜ「ガワ」から作るのか？</strong> これは、チームやステークホルダーとの認識齟齬という、最も手戻りコストの高いリスクを最小化するためです。早い段階で「私たちが作ろうとしているのはこれだ」という共通認識を持つことで、後の工程での無駄な開発コストを徹底的に排除します。</p></blockquote><blockquote><p><strong>私 → Gemini:</strong> 「<code>src</code>フォルダ内に、推奨されるVue3のフォルダ構成を作成して。それと、UIの主要要素である<code>CompanyInput.vue</code>、<code>AnalysisDisplay.vue</code>、<code>ChatBox.vue</code>の3つのコンポーネントの雛形も作ってほしい。」</p></blockquote><h4 id="ディレクトリ構成-最終洗練版" tabindex="-1"><strong>ディレクトリ構成（最終洗練版）</strong> <a class="header-anchor" href="#ディレクトリ構成-最終洗練版" aria-label="Permalink to &quot;**ディレクトリ構成（最終洗練版）**&quot;">​</a></h4><table tabindex="0"><thead><tr><th style="text-align:left;">フォルダ / ファイル</th><th style="text-align:left;">役割</th></tr></thead><tbody><tr><td style="text-align:left;"><strong><code>api/</code></strong></td><td style="text-align:left;">Vercelのサーバーレス関数を格納します。APIキーが必要な処理や、重い処理はここで行います。</td></tr><tr><td style="text-align:left;"><strong><code>src/assets/</code></strong></td><td style="text-align:left;">CSS、画像、フォントなどの静的なアセットファイルを格納します。</td></tr><tr><td style="text-align:left;"><strong><code>src/components/</code></strong></td><td style="text-align:left;">アプリケーション内で再利用されるUI部品（ボタン、入力フォームなど）を格納します。</td></tr><tr><td style="text-align:left;"><strong><code>src/views/</code></strong></td><td style="text-align:left;">各ページに対応する、より大きなコンポーネントを格納します。</td></tr><tr><td style="text-align:left;"><strong><code>src/services/</code></strong></td><td style="text-align:left;"><code>api/</code>で作成したバックエンドAPIとの通信など、外部との連携ロジックをここにまとめます。</td></tr><tr><td style="text-align:left;"><strong><code>App.vue</code></strong></td><td style="text-align:left;">アプリケーション全体のルート（起点）となるコンポーネントです。</td></tr><tr><td style="text-align:left;"><strong><code>main.ts</code></strong></td><td style="text-align:left;">Vueアプリケーションを初期化し、ページにマウント（表示）するためのエントリーポイントファイルです。</td></tr></tbody></table><h4 id="初期コンポーネントコード-src-views-homeview-vue" tabindex="-1"><strong>初期コンポーネントコード (<code>src/views/HomeView.vue</code>)</strong> <a class="header-anchor" href="#初期コンポーネントコード-src-views-homeview-vue" aria-label="Permalink to &quot;**初期コンポーネントコード (\`src/views/HomeView.vue\`)**&quot;">​</a></h4><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CompanyInput </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../components/CompanyInput.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AnalysisDisplay </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../components/AnalysisDisplay.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ChatBox </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../components/ChatBox.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;container&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">section</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;input-section&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">CompanyInput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">section</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">section</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;display-section&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AnalysisDisplay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">section</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">section</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;chat-section&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ChatBox</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">section</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><h3 id="フェーズ2-バックエンドapiのモック実装" tabindex="-1">フェーズ2：バックエンドAPIのモック実装 <a class="header-anchor" href="#フェーズ2-バックエンドapiのモック実装" aria-label="Permalink to &quot;フェーズ2：バックエンドAPIのモック実装&quot;">​</a></h3><p><strong>【ゴール】</strong> フロントエンドが通信する先のAPIを、まずはダミーデータを返す「モック」として作成する。</p><blockquote><p><strong>【ROIの視点】 なぜモックを使うのか？</strong> フロントエンドとバックエンドの開発を分離し、並行して進めるためです。これにより、開発期間という最大のコストを圧縮します。フロントエンドチームは、バックエンドの完成を待つことなく、フィードバックを得るためのUI開発に集中できます。</p></blockquote><blockquote><p><strong>私 → Gemini:</strong> 「Vercel Functionsで、<code>api/analyze.ts</code>というエンドポイントを作って。今はまだ外部APIは呼ばずに、固定のMarkdown文字列を返すだけの簡単なモック関数にしてほしい。」</p></blockquote><h4 id="api-analyze-ts" tabindex="-1"><strong><code>api/analyze.ts</code></strong> <a class="header-anchor" href="#api-analyze-ts" aria-label="Permalink to &quot;**\`api/analyze.ts\`**&quot;">​</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { VercelRequest, VercelResponse } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@vercel/node&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handler</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VercelRequest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> VercelResponse</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dummyReport</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"># モック企業分析レポート</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">## 概要</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">これはバックエンドからのダミーレスポンスです。</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  \`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">200</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    report: dummyReport,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h3 id="フェーズ3-フロントエンドとapiの連携" tabindex="-1">フェーズ3：フロントエンドとAPIの連携 <a class="header-anchor" href="#フェーズ3-フロントエンドとapiの連携" aria-label="Permalink to &quot;フェーズ3：フロントエンドとAPIの連携&quot;">​</a></h3><p><strong>【ゴール】</strong> 作成した部品を連携させ、「分析開始」ボタンでバックエンド（モック）からダミーレポートが表示されるようにする。</p><blockquote><p><strong>【ROIの視点】 なぜ「動くもの」を急ぐのか？</strong> 私たちの価値の定義は「フィードバックの総量」です。このステップで、初めてユーザー（この時点では開発者自身）からのフィードバックサイクルが回り始めます。「ボタンを押したら、何かが返ってくる」という最小限の価値を最速で実現し、そこから改善のサイクルを回していくことが目的です。</p></blockquote><blockquote><p><strong>私 → Gemini:</strong> 「<code>CompanyInput.vue</code>のボタンがクリックされたら、<code>api/analyze.ts</code>を呼び出して、結果を<code>AnalysisDisplay.vue</code>に表示するロジックを追加してほしい。関心事を分離するため、<code>services</code>層も作って。」</p></blockquote><h4 id="src-services-apiservice-ts-新規作成" tabindex="-1"><strong><code>src/services/apiService.ts</code> (新規作成)</strong> <a class="header-anchor" href="#src-services-apiservice-ts-新規作成" aria-label="Permalink to &quot;**\`src/services/apiService.ts\` (新規作成)**&quot;">​</a></h4><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetchAnalysisReport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">company</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt; {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`/api/analyze?company=\${</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">encodeURIComponent</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">company</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}\`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">response.ok) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    throw</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;APIの呼び出しに失敗しました&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.report;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h4 id="src-views-homeview-vue-修正" tabindex="-1"><strong><code>src/views/HomeView.vue</code> (修正)</strong> <a class="header-anchor" href="#src-views-homeview-vue-修正" aria-label="Permalink to &quot;**\`src/views/HomeView.vue\` (修正)**&quot;">​</a></h4><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ref } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CompanyInput </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../components/CompanyInput.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> AnalysisDisplay </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../components/AnalysisDisplay.vue&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { fetchAnalysisReport } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;../services/apiService&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> report</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> isLoading</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ref</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> handleAnalyze</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">companyName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  isLoading.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  report.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    report.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> await</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetchAnalysisReport</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(companyName);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(error);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    report.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;エラーが発生しました。&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">finally</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    isLoading.value </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">CompanyInput</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">analyze</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">handleAnalyze</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">AnalysisDisplay</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">report</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">report</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> :</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">is-loading</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">isLoading</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><hr><p>このように、<strong>「骨格作成 → モック → 連携」</strong> というサイクルを小さく回すことで、常に動くものを確認しながら、一歩ずつ着実にアプリケーションを完成に近づけていくことができます。これが、私たちのアジャイルな開発の進め方です。</p>`,53)])])}const y=i(h,[["render",p]]);export{o as __pageData,y as default};
